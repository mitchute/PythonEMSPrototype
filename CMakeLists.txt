cmake_minimum_required(VERSION 3.10)
project(EmbeddedPython)
find_package(PythonLibs 3 REQUIRED)
include_directories(${PYTHON_INCLUDE_DIRS})
add_executable(EmbeddedPython main.c)
set_source_files_properties(main.c PROPERTIES LANGUAGE C)
target_link_libraries(EmbeddedPython python3.6)
message(${PYTHON_LIBRARIES})
set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} -L/usr/lib/python3.6/config-3.6m-x86_64-linux-gnu -L/usr/lib -lpython3.6m -lpthread -ldl  -lutil -lm  -Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions")
